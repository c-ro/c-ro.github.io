<p>Soundcloud.com is a great service.  Seriously, can’t get enough of it.  Unforunately, I also couldn’t get a plain text list of the artists I was following, which I needed for reasons.  Thankfully, since Soundcloud does provide a really slick web page listing the artists I follow at <a href="https://soundcloud.com/you/following">https://soundcloud.com/you/following</a> I was able to get the data I wanted with just a little bit of Javascript.</p>

<p>If you want to see <em>your</em> list simply copy the code below and paste it into your browser’s console.  Make sure you have <a href="https://soundcloud.com/you/following">https://soundcloud.com/you/following</a> opened and scroll all the way to the bottom of your list.  Otherwise, stick around for a quick breakdown.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">badges</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s1">'genericBadge__usernameHeading'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">usernames</span> <span class="o">=</span> <span class="p">[];</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">badges</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
	<span class="kd">var</span> <span class="nx">link</span> <span class="o">=</span> <span class="nx">badges</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">href</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'/'</span><span class="p">);</span>
	<span class="nx">usernames</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">link</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">usernames</span> <span class="o">=</span> <span class="nx">usernames</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">curr</span><span class="p">){</span>
					<span class="k">return</span> <span class="nx">prev</span> <span class="o">+</span> <span class="s1">'&lt;br&gt;'</span> <span class="o">+</span> <span class="nx">curr</span><span class="p">;</span>
				<span class="p">});</span>

<span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">usernames</span><span class="p">);</span></code></pre></figure>

<p>A Quick Breakdown:</p>

<p>We start by identifying which data we want to extract from the page.  When we open <a href="https://soundcloud.com/you/following">https://soundcloud.com/you/following</a> we see a grid of thumbnails, each representing a different artist.  That’s a good starting point – with a little help from <a href="https://chrome.google.com/webstore/detail/cssviewer/ggfgijbpiheegefliciemofobhmofgce?hl=en">CSSViewer</a> we can quickly identify that objects we need will have the class ‘genericBadge__usernameHeading’.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">badges</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s1">'genericBadge__usernameHeading'</span><span class="p">);</span></code></pre></figure>

<p>Once we have the className of the objects we want to work with we can easily load them into an array-like object called an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCollection">HTML Collection</a> by selecting them with document.getElementsByClassName.  Since an HTML Collection is <em>not</em> an array but rather an <em>array-like object</em> we will not have the ability to use Array methods (such as Array.protoype.forEach).  However, we can use a simple for-loop to iterate over the collection.</p>

<p>In this case, our HTML Collection contains links to each artist’s profile.  We will be reading each link’s href property and extracting our artist’s names from the url.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">usernames</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// let's store the results of each iteration for later use</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">badges</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
	<span class="kd">var</span> <span class="nx">link</span> <span class="o">=</span> <span class="nx">badges</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">href</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'/'</span><span class="p">);</span> <span class="c1">// the profile URL convention is http://soundcloud.com/artist</span>
	<span class="nx">usernames</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">link</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>		      <span class="c1">// so we can always find usernames after the third '/'</span>
<span class="p">}</span></code></pre></figure>

<p>Now that we have an array of usernames all we have to do is display them.  For my purposes the format needed to be one name per line without commas.  Let’s write the contents of the usernames array as an html document in the current window:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">usernames</span> <span class="o">=</span> <span class="nx">usernames</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">curr</span><span class="p">){</span> <span class="k">return</span> <span class="nx">prev</span> <span class="o">+</span> <span class="s1">'&lt;br&gt;'</span> <span class="o">+</span> <span class="nx">curr</span> <span class="p">});</span>
<span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">usernames</span><span class="p">);</span></code></pre></figure>

<p>And that’s pretty much it.  In another context I would do some refactoring but the way SoundCloud protects against injected scripts makes the verbosity necessary.</p>
